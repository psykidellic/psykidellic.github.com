---
categories: rails 
date: 2011/10/19 14:55:00
title: First Rails 3 apps with authentication, background job and Facebook
draft: true
---

./script/rails generate migration initial_start
./script/rails generate scaffold user
./script/rails generate model user_profile 
./script/rails generate model user_image

For initial start, we have::

    class InitialProject < ActiveRecord::Migration
    def up
        create_table :users do |t|
            t.string :username, :null => false
            t.string :password, :null => false
            t.string :email, :null => false

            t.timestamps
        end

        create_table :user_profiles do |t|
            t.integer :user_id, :null => false
            t.string :sex, :null => false
            t.date :dob, :null => false
            t.string :city, :null => false
            t.string :pin

            t.timestamps
        end

        create_table :user_images do |t|
            t.integer :user_id, :null => false
            t.binary :data, :null => false
            t.string :file_name, :null => false
            t.string :image_type

            t.timestamps
        end
    end

    def down
        drop_table :users
        drop_table :user_profiles
        drop_table :user_images
    end
    end

rake db:migrate





